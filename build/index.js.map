{"version":3,"sources":["webpack:/webpack/bootstrap 11714f7cb1d4745fc03a","webpack:/external \"es6-promisify\"","webpack:/external \"jsonwebtoken\"","webpack:/external \"koa-unless\"","webpack:/external \"util\"","webpack:///main.js"],"names":["__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","m","c","value","d","name","getter","Object","defineProperty","configurable","enumerable","get","o","object","property","prototype","hasOwnProperty","p","s","require","verifyAsync","__WEBPACK_IMPORTED_MODULE_3_es6_promisify___default","__WEBPACK_IMPORTED_MODULE_0_jsonwebtoken__","__WEBPACK_IMPORTED_MODULE_0_jsonwebtoken___default","a","__esModule","opts","secret","Error","extractToken","__WEBPACK_IMPORTED_MODULE_2_util__","checkRevoked","doRefresh","key","middleware","_ref","_asyncToGenerator","ctx","next","accessToken","decodedToken","state","e","message","refreshToken","fromCookies","decodedAccessToken","ignoreExpiration","throw","_x","_x2","apply","this","arguments","unless","__WEBPACK_IMPORTED_MODULE_1_koa_unless___default","refresh","refreshCookie","cookies","cookie","fromAuthorizationHeader","header","authorization","parts","split","length","scheme","credentials","test"],"mappings":"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","file":"./build/index.js","sourceRoot":"./main.js"}