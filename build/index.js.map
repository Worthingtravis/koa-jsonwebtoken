{"version":3,"sources":["webpack:/webpack/bootstrap 3e61b6f5bd537d1605d2","webpack:/external \"es6-promisify\"","webpack:/external \"jsonwebtoken\"","webpack:/external \"koa-unless\"","webpack:/external \"util\"","webpack:///main.js"],"names":["__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","m","c","value","d","name","getter","Object","defineProperty","configurable","enumerable","get","n","__esModule","o","object","property","prototype","hasOwnProperty","p","s","require","_jsonwebtoken","_koaUnless","_util","_es6Promisify","verifyAsync","_es6Promisify2","default","verify","_jsonwebtoken2","decode","sign","opts","secret","Error","extractToken","isFunction","checkRevoked","doRefresh","key","middleware","_ref","_asyncToGenerator","ctx","next","accessToken","decodedToken","state","e","message","refreshToken","fromCookies","decodedAccessToken","throw","_x","_x2","apply","this","arguments","unless","_koaUnless2","refresh","refreshCookie","cookies","cookie","fromAuthorizationHeader","header","authorization","parts","split","length","scheme","credentials","test"],"mappings":"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","file":"./build/index.js","sourceRoot":"./main.js"}